import{r as n,j as e,c as k}from"./index-DXf8nAVY.js";import{M as S}from"./MainLayout-CzrU36Jf.js";import{S as E}from"./section-heading-FuyfHM6C.js";import{B as M}from"./index-BfwGU7cQ.js";import{I as W}from"./input-DsrJwZ2l.js";import{C as I,d as A}from"./card-DwPcjQ2E.js";import{m as b}from"./proxy-CP4viMwe.js";import{B as z}from"./bot-CkqC9M8G.js";import{U as L}from"./user-C6N0Yc8t.js";import{S as R}from"./send-Blw69xxq.js";import{M as D,r as H}from"./index-bx_cZ3Qk.js";import"./x-CYZ6D4SI.js";const T='You are HumQadam Waqeel, a virtual assistant embodying a Pakistani lawyer specializing exclusively in human rights law in Pakistan. Your sole purpose is to provide information and answer questions strictly based on Pakistan human rights law. If a user asks about any topic other than Pakistan human rights law, you must politely state that you are unable to assist as your expertise is limited to this specific legal area. When asked "Who are you?" or "What is your name?", respond clearly: "My name is HumQadam Waqeel, and I am a virtual assistant specializing in Pakistan human rights law." Ensure your responses are comprehensive and explain the relevant legal points in detail, avoiding short or brief answers. Structure your answers clearly, potentially using bullet points or numbered lists for complex information. Your tone should be professional, informative, and empathetic.',B=["What are my basic human rights under the Constitution of Pakistan?","How can I report a human rights violation?","What are the rights of an arrested person in Pakistan?","Explain the concept of 'freedom of speech' in Pakistan."],q=()=>{const i=Array.from({length:8}).map((a,o)=>{const s=["circle","square","triangle"],u=s[Math.floor(Math.random()*s.length)],l=100+Math.random()*200,h={top:Math.random()*100,left:Math.random()*100},f=Math.random()*3,x=15+Math.random()*10,g=`rgba(${Math.floor(200+Math.random()*55)},${Math.floor(100+Math.random()*155)},${Math.floor(150+Math.random()*105)},${.2+Math.random()*.2})`;return{id:o,type:u,size:l,position:h,delay:f,duration:x,color:g}}),p=(a,o)=>({width:0,height:0,borderLeft:`${a/2}px solid transparent`,borderRight:`${a/2}px solid transparent`,borderBottom:`${a}px solid ${o}`});return e.jsx("div",{className:"absolute inset-0 -z-20 overflow-hidden",children:i.map(a=>{const o={position:"absolute",top:`${a.position.top}%`,left:`${a.position.left}%`,filter:"blur(80px)"};let s={};return a.type==="circle"?s={...o,width:a.size,height:a.size,borderRadius:"50%",background:a.color}:a.type==="square"?s={...o,width:a.size,height:a.size,background:a.color}:s={...o,...p(a.size,a.color)},e.jsx(b.div,{style:s,animate:{x:["0%",`${Math.random()*40-20}%`,"0%"],y:["0%",`${Math.random()*40-20}%`,"0%"],rotate:Math.random()*360},transition:{repeat:1/0,ease:"easeInOut",duration:a.duration,delay:a.delay}},a.id)})})},ee=()=>{const[i,p]=n.useState([{id:"init-greet",text:"Asalam-o-Alaikum! I am HumQadam Waqeel. Ask me about human rights law in Pakistan, or try one of the examples below.",sender:"bot"}]),[a,o]=n.useState(""),[s,u]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[i]),n.useCallback(async(t,d)=>{try{await navigator.clipboard.writeText(t)}catch(y){console.error("Copy failed",y)}},[]);const h=n.useCallback(async t=>{var v,j;const d=t??a.trim();if(!d||s)return;const y={id:`user-${Date.now()}`,text:d,sender:"user"},C={id:`bot-loading-${Date.now()}`,text:"...",sender:"bot"};p(r=>[...r,y,C]),o(""),u(!0);const N="AIzaSyA1hddmhEKCcKr_WdWR2B8YJJHGg5XFQUQ",w=i.filter(r=>r.sender!=="system"&&!r.id.startsWith("bot-loading")).map(r=>({role:r.sender==="user"?"user":"model",parts:[{text:r.text}]}));w.push({role:"user",parts:[{text:d}]});try{const r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${N}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_instruction:{parts:[{text:T}]},contents:w})}),c=await r.json();let m;!r.ok||c.error||!((v=c.candidates)!=null&&v.length)?m={id:`error-${Date.now()}`,text:`Error: ${((j=c.error)==null?void 0:j.message)||"Unknown error"}`,sender:"error"}:m={id:`bot-${Date.now()}`,text:c.candidates[0].content.parts[0].text.trim()||"No response.",sender:"bot"},p($=>$.filter(P=>!P.id.startsWith("bot-loading")).concat(m))}catch(r){console.error("Fetch error",r),p(c=>c.filter(m=>!m.id.startsWith("bot-loading")).concat({id:`error-${Date.now()}`,text:"Network Error",sender:"error"}))}finally{u(!1)}},[a,s,i]),f=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),h())},x=()=>e.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(t=>e.jsx(b.div,{className:"w-2 h-2 bg-purple-400 rounded-full",animate:{opacity:[.3,1,.3]},transition:{repeat:1/0,duration:.8,delay:t*.2}},t))}),g=t=>t.text==="..."&&t.sender==="bot"?x():t.sender==="bot"?e.jsx(D,{remarkPlugins:[H],children:t.text}):e.jsx("p",{className:"whitespace-pre-wrap",children:t.text});return e.jsx(S,{children:e.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[e.jsx(q,{}),e.jsx("div",{className:"absolute inset-0 -z-10",children:e.jsxs("svg",{className:"w-full h-full",preserveAspectRatio:"none",viewBox:"0 0 1440 320",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"wave-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#4F46E5",stopOpacity:"0.4"}),e.jsx("stop",{offset:"100%",stopColor:"#C7D2FE",stopOpacity:"0.1"})]})}),e.jsx("path",{fill:"url(#wave-gradient)",d:"M0,96L48,90.7C96,85,192,75,288,74.7C384,75,480,85,576,106.7C672,128,768,160,864,165.3C960,171,1056,149,1152,149.3C1248,149,1344,171,1392,181.3L1440,192L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"})]})}),e.jsxs("div",{className:"flex flex-col items-center py-8 px-4",children:[e.jsx("div",{className:"w-full py-8 px-4 bg-indigo-50/90 backdrop-blur-sm",children:e.jsx(E,{title:"HumQadam Waqeel",subtitle:"AI Assistant for Pakistan Human Rights Law",alignment:"center"})}),e.jsx("div",{className:"max-w-3xl  w-full mt-4  flex flex-wrap gap-2 justify-center",children:B.map((t,d)=>e.jsx(M,{size:"sm",onClick:()=>h(t),disabled:s,className:"bg-purple-500 text-white hover:bg-purple-400 hover:text-white",children:t},d))}),e.jsx(I,{className:"w-full max-w-3xl mt-4 bg-white/80 backdrop-blur-md shadow-lg",children:e.jsxs(A,{className:"flex flex-col h-[70vh] p-0",children:[e.jsx("div",{ref:l,className:"flex-1 overflow-y-auto p-4 space-y-4",children:i.map(t=>e.jsxs(b.div,{className:k("flex items-start gap-3",t.sender==="user"?"justify-end":"justify-start"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[t.sender==="bot"&&t.text!=="..."&&e.jsx(z,{className:"text-purple-600"}),e.jsx("div",{className:k("p-3 rounded-lg",t.sender==="user"?"bg-pink-500 text-white":"bg-gray-100 text-gray-800"),children:g(t)}),t.sender==="user"&&e.jsx(L,{className:"text-blue-600"})]},t.id))}),e.jsxs("div",{className:"flex items-center p-4 border-t bg-white/70",children:[e.jsx(W,{value:a,onChange:t=>o(t.target.value),onKeyDown:f,disabled:s,placeholder:"Ask..."}),e.jsx(M,{onClick:()=>h(),disabled:s||!a.trim(),children:e.jsx(R,{})})]})]})})]})]})})};export{ee as default};
