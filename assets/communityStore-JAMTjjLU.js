import{d as I}from"./index-DXf8nAVY.js";const w=o=>{let n;const s=new Set,e=(r,h)=>{const g=typeof r=="function"?r(n):r;if(!Object.is(g,n)){const f=n;n=h??(typeof g!="object"||g===null)?g:Object.assign({},n,g),s.forEach(l=>l(n,f))}},t=()=>n,c={setState:e,getState:t,getInitialState:()=>d,subscribe:r=>(s.add(r),()=>s.delete(r))},d=n=o(e,t,c);return c},C=o=>o?w(o):w,A=o=>o;function O(o,n=A){const s=I.useSyncExternalStore(o.subscribe,()=>n(o.getState()),()=>n(o.getInitialState()));return I.useDebugValue(s),s}const k=o=>{const n=C(o),s=e=>O(n,e);return Object.assign(s,n),s},D=o=>k;function E(o,n){let s;try{s=o()}catch{return}return{getItem:t=>{var a;const p=d=>d===null?null:JSON.parse(d,void 0),c=(a=s.getItem(t))!=null?a:null;return c instanceof Promise?c.then(p):p(c)},setItem:(t,a)=>s.setItem(t,JSON.stringify(a,void 0)),removeItem:t=>s.removeItem(t)}}const S=o=>n=>{try{const s=o(n);return s instanceof Promise?s:{then(e){return S(e)(s)},catch(e){return this}}}catch(s){return{then(e){return this},catch(e){return S(e)(s)}}}},_=(o,n)=>(s,e,t)=>{let a={storage:E(()=>localStorage),partialize:i=>i,version:0,merge:(i,b)=>({...b,...i}),...n},p=!1;const c=new Set,d=new Set;let r=a.storage;if(!r)return o((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...i)},e,t);const h=()=>{const i=a.partialize({...e()});return r.setItem(a.name,{state:i,version:a.version})},g=t.setState;t.setState=(i,b)=>{g(i,b),h()};const f=o((...i)=>{s(...i),h()},e,t);t.getInitialState=()=>f;let l;const j=()=>{var i,b;if(!r)return;p=!1,c.forEach(m=>{var u;return m((u=e())!=null?u:f)});const v=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(i=e())!=null?i:f))||void 0;return S(r.getItem.bind(r))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate){const u=a.migrate(m.state,m.version);return u instanceof Promise?u.then(y=>[!0,y]):[!0,u]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var u;const[y,F]=m;if(l=a.merge(F,(u=e())!=null?u:f),s(l,!0),y)return h()}).then(()=>{v==null||v(l,void 0),l=e(),p=!0,d.forEach(m=>m(l))}).catch(m=>{v==null||v(void 0,m)})};return t.persist={setOptions:i=>{a={...a,...i},i.storage&&(r=i.storage)},clearStorage:()=>{r==null||r.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>j(),hasHydrated:()=>p,onHydrate:i=>(c.add(i),()=>{c.delete(i)}),onFinishHydration:i=>(d.add(i),()=>{d.delete(i)})},a.skipHydration||j(),l||f},L=_,P=[{id:"comm-football",name:"Footballers Club",area:"Local Grounds",members:125,description:"Connect with local footballers, find matches, and organize practice sessions in your area.",image:"https://wallpapers.com/images/hd/messi-pictures-9qppxor06pzudlr1.jpg",joined:!0},{id:"comm-islamabad",name:"Islamabad Residents",area:"Islamabad Capital Territory",members:5300,description:"A community for residents of Islamabad to share news, events, and local information.",image:"https://islamabad.comsats.edu.pk/assets/img/islamabad.jpeg",joined:!0},{id:"comm-gikians",name:"GIKians Connect",area:"GIK Institute, Topi",members:3800,description:"Connect with students, alumni, and faculty of GIK Institute for networking and discussions.",image:"https://giki.edu.pk/wp-content/uploads/2019/09/10649697_710129879074987_5414857352736262169_n.jpg",joined:!0},{id:"comm-cricket",name:"Cricket Fanatics Pakistan",area:"Nationwide",members:950,description:"Discuss your favorite matches, players, and everything about cricket with fans across Pakistan.",image:"https://media.istockphoto.com/id/641189676/photo/cricket-stadium.jpg?s=612x612&w=0&k=20&c=6aUm1D7NiTTR6ZC4MCcLW2zBnMbIwfqDqc8NBIDATn4=",joined:!1},{id:"comm-lahore",name:"Lahore Community Hub",area:"Lahore, Punjab",members:7100,description:"Stay updated on local happenings, share recommendations, and connect with people in Lahore.",image:"https://travelsetu.com/apps/uploads/new_destinations_photos/destination/2024/07/11/9ec44383d7297a03634bcd559ddd216a_400x400.jpeg",joined:!1},{id:"comm-gym",name:"GYM Motivation",area:"Fitness Centers",members:450,description:"Find workout partners, share fitness tips, and stay motivated on your health journey.",image:"https://i.ytimg.com/vi/gey73xiS8F4/hq720.jpg?sqp=-oaymwEnCK4FEIIDSFryq4qpAxkIARUAAAAAGAElAADIQj0AgKJDuAK33r8Y&rs=AOn4CLBNjAOJ8v5wma7dfeeKfVqLY82xXA",joined:!1},{id:"comm-northern-trips",name:"Northern Area Trips",area:"Gilgit-Baltistan & KPK",members:1600,description:"Plan and discuss trips, share breathtaking photos, and find travel companions for Northern Pakistan adventures.",image:"https://pyaraskardu.com/wp-content/uploads/2023/04/fairy-meadows.jpg",joined:!1},{id:"comm-quran-study",name:"Quran Study Circle",area:"Online/Local",members:220,description:"Join discussions, share insights, and deepen your understanding through collective Quran study.",image:"https://static.vecteezy.com/system/resources/thumbnails/051/533/891/small_2x/open-holy-quran-book-with-light-rays-falling-on-it-photo.jpeg",joined:!1}],q=D()(L(o=>({communities:P,messages:{},announcements:{},professionals:{},businesses:{},lostFoundItems:{},campaigns:{},addCommunity:n=>{const s={...n,id:Date.now().toString(),joined:!0,members:1};return o(e=>({communities:[...e.communities,s],messages:{...e.messages,[s.id]:[]},announcements:{...e.announcements,[s.id]:[]},professionals:{...e.professionals,[s.id]:[]},businesses:{...e.businesses,[s.id]:[]},lostFoundItems:{...e.lostFoundItems,[s.id]:[]},campaigns:{...e.campaigns,[s.id]:[]}})),s.id},updateCommunity:(n,s)=>o(e=>({communities:e.communities.map(t=>t.id===n?{...t,...s}:t)})),deleteCommunity:n=>o(s=>({communities:s.communities.filter(e=>e.id!==n),messages:Object.fromEntries(Object.entries(s.messages).filter(([e])=>e!==n)),announcements:Object.fromEntries(Object.entries(s.announcements).filter(([e])=>e!==n)),professionals:Object.fromEntries(Object.entries(s.professionals).filter(([e])=>e!==n)),businesses:Object.fromEntries(Object.entries(s.businesses).filter(([e])=>e!==n)),lostFoundItems:Object.fromEntries(Object.entries(s.lostFoundItems).filter(([e])=>e!==n)),campaigns:Object.fromEntries(Object.entries(s.campaigns).filter(([e])=>e!==n))})),joinCommunity:n=>o(s=>({communities:s.communities.map(e=>e.id===n?{...e,joined:!0,members:e.members+1}:e)})),leaveCommunity:n=>o(s=>({communities:s.communities.map(e=>e.id===n?{...e,joined:!1,members:Math.max(0,e.members-1)}:e)})),addMessage:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({messages:{...t.messages,[n]:[...t.messages[n]||[],e]}})),e.id},addAnnouncement:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({announcements:{...t.announcements,[n]:[...t.announcements[n]||[],e]}})),e.id},addProfessional:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({professionals:{...t.professionals,[n]:[...t.professionals[n]||[],e]}})),e.id},addBusiness:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({businesses:{...t.businesses,[n]:[...t.businesses[n]||[],e]}})),e.id},addLostFoundItem:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({lostFoundItems:{...t.lostFoundItems,[n]:[...t.lostFoundItems[n]||[],e]}})),e.id},addCampaign:(n,s)=>{const e={...s,id:Date.now().toString()};return o(t=>({campaigns:{...t.campaigns,[n]:[...t.campaigns[n]||[],e]}})),e.id},deleteMessage:(n,s)=>o(e=>({messages:{...e.messages,[n]:(e.messages[n]||[]).filter(t=>t.id!==s)}})),deleteAnnouncement:(n,s)=>o(e=>({announcements:{...e.announcements,[n]:(e.announcements[n]||[]).filter(t=>t.id!==s)}})),deleteProfessional:(n,s)=>o(e=>({professionals:{...e.professionals,[n]:(e.professionals[n]||[]).filter(t=>t.id!==s)}})),deleteBusiness:(n,s)=>o(e=>({businesses:{...e.businesses,[n]:(e.businesses[n]||[]).filter(t=>t.id!==s)}})),deleteLostFoundItem:(n,s)=>o(e=>({lostFoundItems:{...e.lostFoundItems,[n]:(e.lostFoundItems[n]||[]).filter(t=>t.id!==s)}})),deleteCampaign:(n,s)=>o(e=>({campaigns:{...e.campaigns,[n]:(e.campaigns[n]||[]).filter(t=>t.id!==s)}}))}),{name:"community-store",partialize:o=>({communities:o.communities,messages:o.messages,announcements:o.announcements,professionals:o.professionals,businesses:o.businesses,lostFoundItems:o.lostFoundItems,campaigns:o.campaigns})}));export{q as u};
