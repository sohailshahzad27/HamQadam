import{r as s,j as e}from"./index-DXf8nAVY.js";import{M as Ue,S as Le,H as Z,o as ce}from"./MainLayout-CzrU36Jf.js";import{A as w}from"./index-CFBOoQuX.js";import{P as Re}from"./plus-CI7A7jab.js";import{m as h}from"./proxy-CP4viMwe.js";import{T as de}from"./trash-2-CsUf3Mn4.js";import{C as me}from"./clock-CxwPkLec.js";import{U as De}from"./user-C6N0Yc8t.js";import{X as ue}from"./x-CYZ6D4SI.js";import{c as ze}from"./index-BfwGU7cQ.js";import{C as Oe}from"./circle-check-big-CeagqOH0.js";import{L as Ee}from"./loader-circle-2xEajiGN.js";import{S as Be}from"./send-Blw69xxq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=ze("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),l="#8B5CF6",z="rgba(139, 92, 246, 0.1)",$e="rgba(139, 92, 246, 0.05)",R="rgba(139, 92, 246, 0.9)",ge="#D946EF",Ke="rgba(217, 70, 239, 0.1)",He="#F1F0FB",qe="#F3F4F6",xe="#E5E7EB",Ye="#374151",Ge="#1F2937",j="#FFFFFF",a=Ge,i="#6B7280",n=xe,f=qe,D="#10B981",fe="#EF4444",W="#DC2626",Ve=z,We=Ke,O=[{id:"initial-1",name:"Old Books Collection",description:"A mix of novels, textbooks, and magazines. Around 50 books.",imageUrl:"https://images.unsplash.com/photo-1550399105-c4db5fb85c18?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8Ym9va3N8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",location:"Sector G-9, Islamabad",pickupTimes:"Weekends 11 AM - 4 PM",giverName:"Ali Khan",giverProfilePicUrl:"https://ui-avatars.com/api/?name=Ali+Khan&background=c084fc&color=fff",giverContactInfo:"Message via App",price:0},{id:"initial-2",name:"Comfy Armchair",description:"Single seater armchair, good condition, minor wear.",imageUrl:"https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXJmY2hhaXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",location:"Sector F-11, Islamabad",pickupTimes:"Weekdays after 6 PM",giverName:"Fatima Ahmed",giverProfilePicUrl:"https://ui-avatars.com/api/?name=Fatima+Ahmed&background=f0abfc&color=fff",giverContactInfo:"Call 0312-3456789",price:3500},{id:"initial-3",name:"Kids Bicycle",description:"Small bicycle for ages 5-8. Needs minor tire repair.",imageUrl:"https://cdn.pixabay.com/photo/2021/10/26/16/51/amsterdam-6744567_1280.jpg",location:"Bahria Town, Phase 4",pickupTimes:"Any day 2 PM - 5 PM",giverName:"Usman Ali",giverProfilePicUrl:"https://ui-avatars.com/api/?name=Usman+Ali&background=c084fc&color=fff",giverContactInfo:"Message via App",price:0},{id:"initial-4",name:"Assorted Kitchen Utensils",description:"Spoons, forks, knives, spatulas. Used but functional.",imageUrl:"https://cdn.pixabay.com/photo/2017/09/05/01/27/kitchen-2716156_1280.png",location:"Sector I-8, Islamabad",pickupTimes:"Flexible, contact to arrange",giverName:"Ayesha Khan",giverProfilePicUrl:"https://ui-avatars.com/api/?name=Ayesha+Khan&background=f0abfc&color=fff",giverContactInfo:"Message via App",price:0},{id:"initial-5",name:"Box of Clothes",description:"Mixed adult clothing, various sizes. Cleaned and folded.",imageUrl:"https://cdn.pixabay.com/photo/2014/08/26/21/48/sweatshirts-428607_1280.jpg",location:"Sector E-7, Islamabad",pickupTimes:"Sunday mornings",giverName:"Zainab Bilal",giverProfilePicUrl:"https://ui-avatars.com/api/?name=Zainab+Bilal&background=c084fc&color=fff",giverContactInfo:"Message via App",price:0}],he="communityShareItems",Ze=()=>{try{const m=localStorage.getItem(he);return m?JSON.parse(m).filter(C=>!O.some(E=>E.id===C.id)):null}catch(m){return console.error("Failed to load items from localStorage:",m),null}},_e=m=>{try{const u=m.filter(x=>!O.some(C=>C.id===x.id));localStorage.setItem(he,JSON.stringify(u))}catch(u){console.error("Failed to save items to localStorage:",u)}},Je=()=>{const m=s.useMemo(()=>Array.from({length:15}).map((u,x)=>({id:x,x:Math.random()*100,delay:Math.random()*1.5,duration:2+Math.random()*2,size:15+Math.random()*15})),[]);return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100]","aria-hidden":"true",children:m.map(u=>e.jsx(h.div,{className:"absolute",initial:{top:"-10%",opacity:1},animate:{top:"110%",opacity:0},transition:{duration:u.duration,delay:u.delay,ease:"linear"},style:{left:`${u.x}vw`},children:e.jsx(Z,{size:u.size,className:"text-red-500 fill-current",fill:fe})},u.id))})},uo=()=>{const[m,u]=s.useState(()=>{const o=Ze()||[];return[...O,...o]}),[x,C]=s.useState(""),[E,_]=s.useState(!1),[be,J]=s.useState(!1),[r,X]=s.useState(null),[ye,Q]=s.useState(!1),[I,ee]=s.useState(null),[c,oe]=s.useState({name:"",description:"",location:"",pickupTimes:"",giverName:"",giverContactInfo:"",price:""}),[B,S]=s.useState(null),[p,M]=s.useState(null),se=s.useRef(null),[v,P]=s.useState(!1),[b,T]=s.useState(!1),[ve,$]=s.useState(!1),[y,K]=s.useState(""),[H,te]=s.useState(!1),[A,q]=s.useState(""),[re,Y]=s.useState([]);s.useEffect(()=>{_e(m)},[m]),s.useEffect(()=>()=>{p&&URL.revokeObjectURL(p)},[p]),s.useEffect(()=>{let o;return H&&(o=setTimeout(()=>te(!1),4e3)),()=>clearTimeout(o)},[H]);const k=s.useCallback(o=>O.some(t=>t.id===o),[]),ae=s.useMemo(()=>{if(!x.trim())return m;const o=x.toLowerCase();return m.filter(t=>t.name.toLowerCase().includes(o)||t.description.toLowerCase().includes(o)||t.location.toLowerCase().includes(o)||t.giverName.toLowerCase().includes(o))},[m,x]),je=s.useCallback(o=>{C(o.target.value)},[]),Ne=s.useCallback(o=>{X(o),J(!0),q(""),Y([])},[]),F=s.useCallback(()=>{J(!1),setTimeout(()=>X(null),300)},[]),Ce=s.useCallback(()=>{oe({name:"",description:"",location:"",pickupTimes:"",giverName:"",giverContactInfo:"",price:""}),S(null),M(null),T(!1),P(!1),_(!0)},[]),U=s.useCallback(()=>{_(!1),p&&URL.revokeObjectURL(p),M(null),S(null)},[p]),N=s.useCallback(o=>{const{name:t,value:d}=o.target;t==="price"&&d!==""&&!/^\d*\.?\d*$/.test(d)||oe(g=>({...g,[t]:d}))},[]),ke=s.useCallback(o=>{if(o.target.files&&o.target.files[0]){const t=o.target.files[0];p&&URL.revokeObjectURL(p);const d=URL.createObjectURL(t);S(t),M(d)}else p&&URL.revokeObjectURL(p),S(null),M(null)},[p]),we=o=>new Promise((t,d)=>{const g=new FileReader;g.onload=()=>t(g.result),g.onerror=d,g.readAsDataURL(o)}),Ie=s.useCallback(async o=>{if(o.preventDefault(),v||b)return;P(!0),T(!1);let t;if(B)try{t=await we(B)}catch(V){console.error("Error reading image file:",V),P(!1);return}const d=c.price.trim(),g=d!==""?parseFloat(d):void 0,Fe={id:crypto.randomUUID(),name:c.name,description:c.description,location:c.location,pickupTimes:c.pickupTimes,giverName:c.giverName,giverContactInfo:c.giverContactInfo,imageUrl:t,price:g!==void 0&&!isNaN(g)&&g>=0?g:void 0,giverProfilePicUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(c.giverName||"??")}&background=random&color=fff`};u(V=>[Fe,...V]),P(!1),T(!0),setTimeout(()=>{U(),T(!1)},1500)},[c,B,U,v,b]),le=s.useCallback((o,t)=>{t.stopPropagation(),k(o)?console.log("Cannot delete predefined items."):(ee(o),Q(!0))},[k]),L=s.useCallback(()=>{Q(!1),setTimeout(()=>ee(null),300)},[]),Se=s.useCallback(()=>{I&&(k(I)?console.log("Attempted to delete a predefined item via confirmDelete (safeguard)."):(u(o=>o.filter(t=>t.id!==I)),r&&r.id===I&&F()),L())},[I,L,r,F,k]),Me=s.useCallback(()=>{K(""),$(!0)},[]),ie=s.useCallback(o=>{K(o)},[]),Pe=s.useCallback(()=>{const o=typeof y=="number"?y:parseFloat(y);if(isNaN(o)||o<=0){alert("Please enter a valid donation amount.");return}console.log(`Donating PKR ${o}... (Simulation)`),$(!1),te(!0)},[y]),Te=s.useCallback(o=>{q(o.target.value)},[]),G=s.useCallback(()=>{A.trim()&&(Y(o=>[...o,A]),q(""),setTimeout(()=>{Y(o=>[...o,"Thanks for your message! The owner will get back to you soon."])},1e3))},[A]),Ae=s.useCallback(o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),G())},[G]),ne=s.useCallback((o,t="No Image")=>{const d=o.currentTarget;d.onerror=null,d.src=`https://via.placeholder.com/300x200/${n.substring(1)}/${i.substring(1)}?text=${encodeURIComponent(t)}`,d.className=d.className+" object-contain"},[n,i]);return e.jsxs(Ue,{children:[e.jsx(w,{children:H&&e.jsx(Je,{})}),e.jsx("section",{className:" mb-10 rounded-lg",children:e.jsxs("div",{className:"bg-gradient-to-r from-humqadam-purple/20 to-humqadam-purple/10 py-16",children:[e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"font-heading text-3xl md:text-4xl font-bold mb-4",style:{color:a},children:"Baitul Maal"}),e.jsx("p",{className:"text-lg mb-6",style:{color:Ye},children:"Share items, find treasures, spread kindness."})]}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:e.jsxs("button",{onClick:Ce,className:"flex items-center px-4 py-2 rounded-lg shadow-md transition-colors duration-200",style:{backgroundColor:l,color:"white"},onMouseOver:o=>o.currentTarget.style.backgroundColor=R,onMouseOut:o=>o.currentTarget.style.backgroundColor=l,children:[e.jsx(Re,{size:20,className:"mr-2"})," List New Item"]})})]})}),e.jsxs("div",{className:"relative max-w-3xl mx-auto mb-6",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",size:20,style:{color:i}}),e.jsx("input",{type:"text",placeholder:"Search items, locations, givers...",value:x,onChange:je,className:"w-full pl-10 pr-4 py-2 rounded-lg border shadow-sm focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mb-10 p-4 rounded-lg shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",style:{background:`linear-gradient(to right, ${Ve}, ${We})`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{size:24,fill:fe,className:"text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm md:text-base font-medium text-center sm:text-left",style:{color:a},children:"Support Palestine Relief Efforts"})]}),e.jsx("button",{onClick:Me,className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-semibold rounded-full shadow-md hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2 transition-all flex-shrink-0",style:{"--tw-ring-offset-color":j},children:"Donate Now"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsx(w,{children:ae.map(o=>e.jsxs(h.div,{className:"rounded-lg overflow-hidden cursor-pointer border transition-all duration-300 ease-in-out flex flex-col",style:{backgroundColor:$e,borderColor:z},onClick:()=>Ne(o),whileHover:{y:-4,boxShadow:"0 10px 15px -3px rgba(139, 92, 246, 0.1), 0 4px 6px -2px rgba(139, 92, 246, 0.05)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},layout:!0,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.imageUrl||`https://via.placeholder.com/300x200/${n.substring(1)}/${i.substring(1)}?text=No+Image`,alt:o.name,className:"w-full h-48 object-cover",onError:t=>ne(t,"No Image")}),o.price!==void 0&&o.price>0&&e.jsxs("div",{className:"absolute top-2 right-2 text-white text-xs font-bold px-2 py-1 rounded-full shadow",style:{backgroundColor:ge},children:["PKR ",o.price.toLocaleString()]}),(o.price===void 0||o.price===0)&&e.jsx("div",{className:"absolute top-2 right-2 text-white text-xs font-bold px-2 py-1 rounded-full shadow",style:{backgroundColor:D},children:"FREE"}),!k(o.id)&&e.jsx("button",{onClick:t=>le(o.id,t),className:"absolute bottom-2 right-2 p-1 rounded-full bg-white bg-opacity-80 hover:bg-opacity-100 shadow transition-all",style:{color:W},title:"Remove listing",children:e.jsx(de,{size:18})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",style:{backgroundColor:j},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:a},children:o.name}),e.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:i},children:o.description}),e.jsxs("div",{className:"flex items-center text-xs mb-1",style:{color:i},children:[e.jsx(ce,{size:14,className:"mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:o.location})]}),e.jsxs("div",{className:"flex items-center text-xs mb-1",style:{color:i},children:[e.jsx(me,{size:14,className:"mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:o.pickupTimes})]}),e.jsxs("div",{className:"flex items-center text-xs mt-1",style:{color:i},children:[e.jsx(De,{size:14,className:"mr-1 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Given by: ",o.giverName]})]})]})]},o.id))}),ae.length===0&&e.jsxs("div",{className:"col-span-full text-center py-10",children:[e.jsx("p",{className:"text-lg",style:{color:i},children:"No items found matching your search."}),x&&e.jsx("button",{onClick:()=>C(""),className:"mt-4 px-4 py-2 rounded-lg font-semibold transition-colors duration-200",style:{backgroundColor:l,color:"white"},onMouseOver:o=>o.currentTarget.style.backgroundColor=R,onMouseOut:o=>o.currentTarget.style.backgroundColor=l,children:"Clear Search"})]})]}),e.jsx(w,{children:E&&e.jsx(h.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:U,children:e.jsxs(h.div,{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl max-h-[90vh] overflow-y-auto relative",style:{backgroundColor:j},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[e.jsx("button",{className:"absolute right-6 top-6 text-gray-400 hover:text-gray-600 transition-colors",onClick:U,children:e.jsx(ue,{size:24})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:a},children:"List a New Item"}),e.jsxs("form",{onSubmit:Ie,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:a},children:"Item Image (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-all hover:border-purple-400",style:{borderColor:p?l:n},onClick:()=>{var o;return(o=se.current)==null?void 0:o.click()},children:[e.jsx("input",{ref:se,type:"file",accept:"image/*",className:"hidden",onChange:ke}),p?e.jsx("img",{src:p,alt:"Item Preview",className:"h-40 mx-auto object-contain rounded"}):e.jsxs("div",{className:"py-6",children:[e.jsx(pe,{size:40,className:"mx-auto mb-2",style:{color:i}}),e.jsx("p",{className:"text-sm",style:{color:i},children:"Click or drag image here"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"sr-only",children:"Item Name"}),e.jsx("input",{id:"name",name:"name",type:"text",value:c.name,onChange:N,required:!0,placeholder:"Item Name",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"sr-only",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:c.description,onChange:N,required:!0,rows:3,placeholder:"Description...",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"sr-only",children:"Price (PKR, optional)"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"PKR"})}),e.jsx("input",{type:"number",id:"price",name:"price",value:c.price,onChange:N,min:"0",step:"1",placeholder:"0 (Leave empty if free)",className:"w-full pl-12 pr-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter price or leave empty/0 if the item is free."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"sr-only",children:"Pickup Location"}),e.jsx("input",{id:"location",name:"location",type:"text",value:c.location,onChange:N,required:!0,placeholder:"Pickup Location...",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pickupTimes",className:"sr-only",children:"Pickup Times"}),e.jsx("input",{id:"pickupTimes",name:"pickupTimes",type:"text",value:c.pickupTimes,onChange:N,required:!0,placeholder:"Preferred Pickup Times...",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"giverName",className:"sr-only",children:"Your Name"}),e.jsx("input",{id:"giverName",name:"giverName",type:"text",value:c.giverName,onChange:N,required:!0,placeholder:"Your Name",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"giverContactInfo",className:"sr-only",children:"Contact Method"}),e.jsx("input",{id:"giverContactInfo",name:"giverContactInfo",type:"text",value:c.giverContactInfo,onChange:N,required:!0,placeholder:"Preferred Contact Method...",className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:v||b,className:`w-full px-4 py-2.5 font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all flex items-center justify-center ${v||b?"cursor-not-allowed":""}`,style:{backgroundColor:b?D:l,opacity:v?.7:1,color:"white","--tw-ring-color":b?D:l,"--tw-ring-offset-color":j},onMouseOver:o=>!v&&!b?o.currentTarget.style.backgroundColor=R:null,onMouseOut:o=>!v&&!b?o.currentTarget.style.backgroundColor=l:null,children:b?e.jsxs(e.Fragment,{children:[" ",e.jsx(Oe,{size:20,className:"mr-2"})," Listed Successfully! "]}):v?e.jsxs(e.Fragment,{children:[" ",e.jsx(Ee,{size:20,className:"mr-2 animate-spin"})," Listing... "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(pe,{size:20,className:"mr-2"})," List Item "]})})})]})]})})}),e.jsx(w,{children:be&&r&&e.jsx(h.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:F,children:e.jsxs(h.div,{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl max-h-[90vh] overflow-y-auto relative",style:{backgroundColor:j},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[e.jsx("button",{className:"absolute right-6 top-6 z-10 text-gray-400 hover:text-gray-600 transition-colors",onClick:F,children:e.jsx(ue,{size:24})}),e.jsxs("div",{className:"flex items-center mb-5 pb-4 border-b",style:{borderColor:n},children:[e.jsx("img",{src:r.giverProfilePicUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.giverName)}&background=random&color=fff`,alt:r.giverName,className:"w-12 h-12 rounded-full mr-3 object-cover",onError:o=>{const t=o.currentTarget;t.onerror=null,t.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.giverName.substring(0,2)||"??")}&background=random&color=fff`,t.className=t.className+" object-contain"}}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-xs",style:{color:i},children:"Listed by:"}),e.jsx("h3",{className:"text-md font-medium",style:{color:a},children:r.giverName}),e.jsxs("p",{className:"text-sm",style:{color:i},children:["Contact: ",r.giverContactInfo]})]}),r.id&&!k(r.id)&&e.jsx("button",{onClick:o=>{o.stopPropagation(),le(r.id,o)},className:"p-2 rounded-full hover:bg-red-50 transition-colors",style:{color:W},title:"Remove listing",children:e.jsx(de,{size:20})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("img",{src:r.imageUrl||`https://via.placeholder.com/400x300/${n.substring(1)}/${i.substring(1)}?text=No+Image`,alt:r.name,className:"w-full h-48 object-cover rounded-lg",onError:o=>ne(o,"No Image")}),r.price!==void 0&&r.price>0&&e.jsxs("div",{className:"absolute top-3 right-3 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg",style:{backgroundColor:ge},children:[" PKR ",r.price.toLocaleString()," "]}),(r.price===void 0||r.price===0)&&e.jsx("div",{className:"absolute top-3 right-3 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg",style:{backgroundColor:D},children:" FREE "})]}),e.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:a},children:r.name}),e.jsx("p",{className:"text-sm mb-4",style:{color:i},children:r.description}),e.jsxs("div",{className:"flex items-center mb-2",style:{color:i},children:[" ",e.jsx(ce,{size:16,className:"mr-2 flex-shrink-0"})," ",e.jsx("span",{children:r.location})," "]}),e.jsxs("div",{className:"flex items-center mb-4",style:{color:i},children:[" ",e.jsx(me,{size:16,className:"mr-2 flex-shrink-0"})," ",e.jsx("span",{children:r.pickupTimes})," "]}),e.jsxs("div",{className:"mt-6 border-t pt-4",style:{borderColor:n},children:[e.jsx("h3",{className:"text-md font-medium mb-3",style:{color:a},children:"Message Giver (Simulation)"}),e.jsx("div",{className:"rounded-lg p-3 mb-3 max-h-40 overflow-y-auto",style:{minHeight:"80px",backgroundColor:He},children:re.length===0?e.jsx("p",{className:"text-center text-sm italic",style:{color:i},children:"No messages yet"}):re.map((o,t)=>e.jsxs("div",{className:`mb-2 text-sm p-2 rounded-lg ${t%2===0?"ml-auto max-w-[75%] text-right":"bg-gray-200 mr-auto max-w-[75%]"}`,style:t%2===0?{backgroundColor:z,color:a}:{backgroundColor:xe,color:a},children:[" ",o," "]},t))}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx("input",{type:"text",value:A,onChange:Te,onKeyDown:Ae,placeholder:"Type a message...",className:"flex-grow px-3 py-2 rounded-l-lg border focus:outline-none focus:ring-2 focus:border-transparent",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}}),e.jsx("button",{onClick:G,className:"px-4 py-2 rounded-r-lg transition-colors duration-200",style:{backgroundColor:l,color:"white"},onMouseOver:o=>o.currentTarget.style.backgroundColor=R,onMouseOut:o=>o.currentTarget.style.backgroundColor=l,children:e.jsx(Be,{size:18})})]})]})]})})}),e.jsx(w,{children:ye&&e.jsx(h.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:L,children:e.jsxs(h.div,{className:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl",style:{backgroundColor:j},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:a},children:"Remove Listing"}),e.jsx("p",{style:{color:i},children:"Are you sure you want to remove this item listing? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:L,className:"px-4 py-2 rounded-md border font-medium hover:bg-gray-100 transition-colors",style:{borderColor:n,color:i},children:" Cancel "}),e.jsx("button",{onClick:Se,className:"px-4 py-2 rounded-md font-medium text-white transition-colors duration-200 hover:opacity-90",style:{backgroundColor:W},children:" Remove "})]})]})})}),e.jsx(w,{children:ve&&e.jsx(h.div,{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>$(!1),children:e.jsxs(h.div,{className:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl",style:{backgroundColor:j},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-semibold text-center mb-4",style:{color:a},children:"Donate to Palestine Relief"}),e.jsx("p",{className:"text-center text-sm mb-6",style:{color:i},children:"Your contribution makes a difference."}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[500,1e3,5e3].map(o=>e.jsxs("button",{onClick:()=>ie(o),className:`px-3 py-2 rounded-md text-sm font-medium border transition-colors ${y===o?"ring-2":"hover:bg-gray-100"}`,style:{color:a,borderColor:y===o?l:n,backgroundColor:y===o?z:"transparent","--tw-ring-color":l},children:[" PKR ",o," "]},o))}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium mb-1",style:{color:i},children:"Or enter custom amount:"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"PKR"})}),e.jsx("input",{type:"number",id:"customAmount",name:"customAmount",min:"50",step:"50",placeholder:"Enter amount",value:typeof y=="string"?y:"",onChange:o=>ie(o.target.value),onFocus:()=>K(""),className:"w-full pl-12 pr-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:border-transparent shadow-sm",style:{backgroundColor:f,color:a,borderColor:n,"--tw-ring-color":l}})]})]}),e.jsxs("button",{onClick:Pe,className:"w-full mt-6 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg shadow-md hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2 transition-all flex items-center justify-center",style:{"--tw-ring-offset-color":j},children:[e.jsx(Z,{size:18,className:"mr-2",fill:"white"})," Confirm Donation"]})]})})})]})};export{uo as default};
